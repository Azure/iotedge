{
  "appSettings": {
    "MaxPendingInboundAcknowledgements": 16,
    "DeviceReceiveAckTimeout": "00:00:00",
    "MaxInboundMessageSize": "262144",
    "ConnectArrivalTimeout": "00:01:00",
    "MaxKeepAliveTimeout": "00:10:00",
    "RetainPropertyName": "mqtt-retain",
    "DupPropertyName": "mqtt-dup",
    "QoSPropertyName": "mqtt-qos",
    "IotHubClient.MaxPendingInboundMessages": 10,
    "IotHubClient.MaxPendingOutboundMessages": 10,
    "IotHubClient.DefaultPublishToClientQoS": 1,
    "IotHubClient.MaxOutboundRetransmissionCount": 2,
    "IotHubClient.ConnectionPoolSize": 400,
    "IotHubClient.ConnectionIdleTimeout": "00:03:30",
    "BlobSessionStatePersistenceProvider.StorageConnectionString": "UseDevelopmentStorage=true",
    "BlobSessionStatePersistenceProvider.StorageContainerName": "mqtt-sessions",
    "TableQos2StatePersistenceProvider.StorageConnectionString": "UseDevelopmentStorage=true",
    "TableQos2StatePersistenceProvider.StorageTableName": "mqttqos2"
  },
  "IotHubHostName": "<hostname>",
  "EdgeDeviceId": "<deviceId>",
  "mqttTopicNameConversion": {
    "InboundTemplates": [
      "devices/{deviceId}/messages/events/",
      "devices/{deviceId}/{moduleId}/messages/events/",
      "devices/{deviceId}/module/{moduleId}/endpoint/{endpointId}"
    ],
    "OutboundTemplates": {
      "C2D": "devices/{deviceId}/messages/devicebound",
      "TwinEndpoint": "$iothub/twin/res/{statusCode}/?$rid={correlationId}",
      "ModuleEndpoint": "devices/{deviceId}/module/{moduleId}/endpoint/{endpointId}"
    }
  },
  "routes": [
    "FROM /messages/events INTO $upstream"
  ]
}
