FROM debian:9.5-slim

RUN apt-get update && \
    apt-get install -y --no-install-recommends \
    git \
    software-properties-common \
    build-essential \
    ca-certificates \
    uuid-dev \
    curl \
    libssl1.0-dev \
    libcurl4-openssl-dev \
    debhelper \
    dh-systemd \
    pkg-config

COPY toolkit-1.0.20201018.tar.gz /toolkit.tar.gz
RUN tar xvzf /toolkit.tar.gz
RUN pushd /toolkit && \
    make clean && \
    popd

RUN apt-get purge --auto-remove -y cmake && \
    bash /cmake.sh 3.11.4
